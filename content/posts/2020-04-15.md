---
title: Deploy and set up Strapi on Heroku with PostgreSQL
date: 2020-07-15
published: false
tags: ["Strapi", "DevOps"]
series: false
cover_image: ./images/strapi-cover.png
logo_image: ./images/strapi.png
canonical_url: false
description: ""
---

# What is Strapi?

Strapi is an open source headless content management system built with Node.js.

What is a headless content management system? Unlike traditional CMS like Wordpress where content management application and the content delivery application come together in a single application, a headless CMS is just the content component and focuses entirely on the administrative interface for content creators and simplify the content workflows and collaboration. A headless CMS is a content layer separated from the presentation layer of the website.

Strapi provides an admin panel that can be set up and running in few minutes. Developers or editors can create, edit or delete contents with ease. Strapi also provides customizable API that can be consumed by developer's choice of framework via REST API or GraphQL endpoint. Think of it as a "Wordpress" alternative but for Node.js and with way more better features.

![Image](https://i.imgur.com/rbhjj3W.png)

Sample admin dashboard of Strapi CMS.

<hr>
<br/>

## Let's deploy Strapi on Heroku

Make sure you have all the prerequisites needed before proceeding to the following steps.

```shell
Here are the prerequisites to this tutorial:

1. Heroku account
2. Node.js and Yarn
3. Git and Heroku CLI

```

```shell

Table of Contents

1. Create a strapi project
2. Create a Heroku project
3. Add postgres addon to your Heroku app
4. Add config variables to your Heroku app
5. Deploy your project using Git and Heroku CLI

```

# 1. Create a Strapi project

Creating a Strapi project is straightforward. There are two ways to scaffold a project: first by installing Strapi CLI on your machine and the other one is by using yarn or npx. We will use the latter for this tutorial.

Open your terminal and go to your prefered project location directory, and type the following:

```js

$> yarn create strapi-project projectName --quickstart

```

![Image](https://i.imgur.com/hUPacF7.png)

This will create a Strapi project. Yarn will download all the files and project setup. Wait for the process to finish installing all node modules. Depending on your internet connection, it may take some time.

Once the installation succeeds, your Strapi project is now ready.

# 2. Create a Heroku app project

Login to your Heroku dashboard and create a new app.

![Image](https://i.imgur.com/MYdvxXA.png)

Name your project and hit that create app button.

# 3. Add postgres addon to your Heroku project

Once you successfully created a heroku app, go to Resources tab and search for Heroku Postgres addon. This will make a postgres database for your project. A connection string will also be given.

![Image](https://i.imgur.com/2Ch24Qx.png)

You need to give provision to add postgres addon to your project.

![Image](https://i.imgur.com/DfyPT1U.png)

Adding Postgress addon to your project will create a new database and provide database connection string.
To check if you successfully connected to the database, visit the Settings page and reveal the config var. If you see a DATABASE_URL added to your project ( similar to the image below ), then you successfully connected your app to a Heroku postgres database instance.

Take note: COPY the value of DATABASE_URL provided by Heroku.

![Image](https://i.imgur.com/mmh6Dxs.png)

# 4. Add config variables to Heroku app

Going back to our Strapi project.

In order to run our Strapi project in production, we need to set up config variables. Strapi already provided us with environment variables. Inside your project, go to These are:

DATABASE_HOST <br/>
DATABASE_NAME<br/>
DATABASE_PASSWORD<br/>
DATABASE_PORT<br/>
DATABASE_URL<br/>
DATABASE_USERNAME<br/>

We need to provide value to each variable name inside your Heroku app.
Remember the connection string provided by Heroku? We need to copy each value from it.

This is the format of connection string:

postgres://<DATABASE_USERNAME>:<DATABASE_PASSWORD>@<DATABASE_HOST>:<DATABASE_PORT>/<DATABASE_NAME>

Each value is separated by a colon.

Another way to get these credentials is to visit the database info page provided by Heroku.

To see these credentials, go back to your Heroku app, go to Resources Tab -> Addons and click the Postgress Database addons. This will point you to your database page. Visit the page and copy the value of each credentials.
![Image](https://i.imgur.com/R5HMyId.png)
![Image](https://i.imgur.com/AC0UK0V.png)

To give you an example. Here's a connection string from the project I created.

```js

postgres://npkfxidqpksrgf:cd59ed16a83dbddsdfssd467ceeef1e04ed3eab707d9906883cd3c9c36547787af@ec2-18-245-84-221.compute-1.amazonaws.com:5422/d6e0p3odfstfgl

```

And my Heroku config var set up looks like this:

```

DATABASE_URL: postgres://npkfxidqpksrgf:cd59ed16a83dbddsdfssd467ceeef1e04ed3eab707d9906883cd3c9c36547787af@ec2-18-245-84-221.compute-1.amazonaws.com:5422/d6e0p3odfstfgl

DATABASE_HOST: ec2-18-245-84-221.compute-1.amazonaws.com

DATABASE_NAME: d6e0p3odfstfgl

DATABASE_PASSWORD: cd59ed16a83dbddsdfssd467ceeef1e04ed3eab707d9906883cd3c9c36547787af

DATABASE_PORT: 5422

DATABASE_USERNAME: npkfxidqpksrgf

```

Note: I edited some of the value for security.

Your finish set up looks like this:

![Image](https://i.imgur.com/RbO3wUz.png)

Save your work and you're Strapi project is ready to be deployed!

# 5. Deploy your project using Git and Heroku CLI

To push your project in Heroku, you need to install Heroku CLI and Git. I assume you have these already installed.

Inside your Strapi project, initialize a git repository.

```

\$ git init

```

Login to Heroku via terminal or command line. This will open a browser and lets you login to your Heroku account.

```

\$ heroku login

```

Add a remote heroku repository to your project.

```

\$ heroku git:remote -a app-testing

```

Commit all your code and deploy it to Heroku using Git.

```

$ git add .
$ git commit -m "Initial commit"
\$ git push heroku master

```

If you pushed your code without error, your Strapi project is up and running.
Visit your Heroku dashboard and open your newly created app.

This is the welcome page.
![Image](https://i.imgur.com/Bh5IATK.png)

Point to /admin to set up your Strapi project completely!
![Image](https://i.imgur.com/z6QrLjC.png)

You can check a working demo of my Strapi sample project [here](https://strapi-apptest.herokuapp.com).

And that's it! You've successfully installed and set up Strapi on Heroku using Postgres.

## Conclusion

In this tutorial, you learned how to install and set up Strapi on Heroku and set up postgreSQL database. If you encounter errors or problems, don't hesitate to contact me for help and assistance. Till next tutorial. Thanks for reading!

## Happy Coding!
